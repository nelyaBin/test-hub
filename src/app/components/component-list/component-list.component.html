<div class="component-list-wrapper">
  <!-- Search bar -->
  <div class="search-bar">
    <input
      type="text"
      placeholder="Search components..."
      [(ngModel)]="searchTerm"
      class="search-input"
    />
  </div>

  <!-- Atlas URL field -->
  <div class="atlas-url-container">
    <input
      type="text"
      placeholder="Enter Atlas URL..."
      [(ngModel)]="atlasUrl"
      class="search-input"
    />
  </div>

  <div class="search-bar">
    <input
      type="text"
      placeholder="Automation branch..."
      [(ngModel)]="searchTerm"
      class="search-input"
    />
  </div>

  <!-- Presets -->
  <h2 class="section-title">Presets</h2>
  <div class="cards-grid">
    <app-component-card
      *ngFor="let preset of filteredPresets"
      [data]="preset"
      [isPreset]="true"
      [allData]="allData"
      (selectionChanged)="onSelectionChanged(preset)"
    ></app-component-card>

    <div *ngIf="!filteredPresets.length" class="no-results">
      No matching Presets found
    </div>
  </div>

  <!-- Customs -->
  <h2 class="section-title">Customs</h2>
  <div class="cards-grid">
    <app-component-card
      *ngFor="let customItem of filteredCustoms"
      [data]="customItem"
      [isPreset]="false"
      [allData]="allData"
      (selectionChanged)="onSelectionChanged(customItem)"
    ></app-component-card>

    <div *ngIf="!filteredCustoms.length" class="no-results">
      No matching Customs found
    </div>
  </div>

  <!-- Run button -->
  <div class="button-wrapper">
    <button
      class="button"
      (click)="runAll()"
      [disabled]="!hasSelectedTests()"
      [title]="
        !hasSelectedTests()
          ? 'Select at least one test, preset, or custom to enable running.'
          : ''
      "
    >
      Run
    </button>
  </div>
</div>
