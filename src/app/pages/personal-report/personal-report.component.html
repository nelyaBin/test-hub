<div class="personal-report-page">
  <h2 class="section-title">Personal Automation Report</h2>

  <!-- שדה חיפוש -->
  <div class="search-container">
    <input
      type="text"
      placeholder="Enter report identifier..."
      [(ngModel)]="userInput"
      class="search-input"
    />
    <button class="button" (click)="searchReport()">Search Report</button>
  </div>

  <!-- הודעת שגיאה -->
  <div class="error-message" *ngIf="errorMessage">
    <h2>Oops!</h2>
    <p>{{ errorMessage }}</p>
  </div>

  <!-- Toggle + Iframe -->
  <div *ngIf="htmlFileUrl" class="report-container">
    <div class="toggle-wrapper">
      <div
        class="toggle-switch"
        [class.active]="selected === 'lighthouse'"
        (click)="toggleView()"
      >
        <div
          class="toggle-option"
          [class.selected]="selected === 'report'"
        >
          Report
        </div>
        <div
          class="toggle-option"
          [class.selected]="selected === 'lighthouse'"
        >
          Lighthouse
        </div>
        <div class="toggle-slider"></div>
      </div>
    </div>

    <div class="iframe-wrapper">
      <iframe [src]="htmlFileUrl" frameborder="0"></iframe>
    </div>
  </div>
</div>
